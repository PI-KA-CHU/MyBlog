+++
author = "pikachu"
title = "MySQL索引的建立及优化"
date = "2018-12-28"
description = "Lorem Ipsum Dolor Si Amet"
tags = [
    "mysql"
]
categories = [
    "IT",
]
+++


> 索引对查询有着重要的作用，对索引的认识是进行数据库性能提升的起点，数据库的优化一般是从两个方面，**第一个是对SQL语句进行优化**，**第二是优化数据库表的设计包括索引的建立**，这里主要记录第二种的相关学习，当数据库数据量很大的时候，索引能够极大的提高查询速度，本人现在面临的是千万条数据的数据表，遍历所有数据需要花上几分钟的时间，一般的查询都需要几十秒，这个肯定是不能接受的，建立索引后的查询速度为一秒左右，极大的提高了性能。
&nbsp;

## 建表原则

- **越小的数据类型通常更好**：越小的数据类型通常在磁盘、内存和CPU缓存中都需要更少的空间，处理起来更快。

- **简单的数据类型更好**：整型数据比起字符，处理开销更小，因为字符串的比较更复杂。在MySQL中，应该用内置的日期和时间数据类型，而不是用字符串来存储时间；以及用整型数据类型存储IP地址。

- **尽量避免NULL**：应该指定列为NOT NULL，除非你想存储NULL。在MySQL中，含有空值的列很难进行查询优化，因为它们使得索引、索引的统计信息以及比较运算更加复杂。你应该用0、一个特殊的值或者一个空串代替空值。

&nbsp;

## 标识符选择

- 选择合适的标识符是非常重要的。选择时不仅应该考虑**存储类型**，而且应该考虑MySQL是怎样进行**运算和比较**的。_一旦选定数据类型，应该保证所有相关的表都使用相同的数据类型。_

- **整型**：通常是作为标识符的最好选择，因为可以更快的处理，而且可以设置为AUTO_INCREMENT。

- **字符串**：尽量避免使用字符串作为标识符，它们消耗更好的空间，处理起来也较慢。而且，通常来说，字符串都是随机的，所以它们在索引中的位置也是随机的，这会导致页面分裂、随机访问磁盘，聚簇索引分裂（对于使用聚簇索引的存储引擎）。

&nbsp;

## 索引入门

- 参考： http://www.cnblogs.com/hustcat/archive/2009/10/28/1591648.html